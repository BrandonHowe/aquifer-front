(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{185:function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"msgpopup",attrs:{id:"msgpopup"},on:{click:function(s){return e.closeModal("reg")}}},[a("div",{staticClass:"msgpopup-content",on:{click:function(s){e.clickingMain=!0}}},[a("span",{staticClass:"close",on:{click:function(s){return e.closeModal("x")}}},[e._v("Ã—")]),e._v(" "),a("div",{staticClass:"msgpopup-header"},[a("p",[a("span",{staticClass:"message-username"},[e._v(e._s(e.user.username)+"#"+e._s(e.user.usernum))]),e._v(" "),a("span",{staticClass:"message-date"},[e._v(e._s(e.formattedDate))])]),e._v(" "),a("p",{staticClass:"message-content"},[e._v(e._s(e.message))]),e._v(" "),a("p",[e._v("Message ID: "+e._s(e.msgId))])]),e._v(" "),a("div",{staticClass:"msgpopup-actions"},[e.modifiable?a("p",{staticClass:"msgpopup-action",on:{click:e.editMessage}},[e._v("\n                Edit message"),a("i",{staticClass:"cil-energy"})]):e._e(),e._v(" "),e.modifiable?a("p",{staticClass:"msgpopup-action",on:{click:e.deleteMessage}},[e._v("\n                Delete message "),a("i",{staticClass:"cil-energy"})]):e._e()])])])};t._withStripped=!0;a(8);var o=a(3),i=a(4),n=a.n(i),c=a(0),r=a.n(c),l={name:"MsgPopup",props:{user:Object,date:Number,message:String,msgId:Number},data:()=>({clickingMain:!1,modifiable:!1}),async mounted(){this.modifiable=await this.checkModifiable()},methods:{checkPower:(e,s)=>new Promise(a=>{n()({method:"GET",uri:o.a.serverUrl+"/userInfo/power/"+e+"/"+s,useXDR:!0,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},(e,s,t)=>{if(e)throw e;200!==s.statusCode&&console.log(s.statusCode),a(t)})}),async checkModifiable(){const e=localStorage.getItem("username"),s=Number(localStorage.getItem("usernum"));if(this.user.username===e&&this.user.usernum===s)return!0;return"admin"===await this.checkPower(e,s)},editMessage(){this.$emit("editMessage",this.msgId),this.$emit("closeMsgModal"),this.clickingMain=!1},deleteMessage(){this.$emit("deleteMessage",this.msgId),this.$emit("closeMsgModal"),this.clickingMain=!1},closeModal(e){!1!==this.clickingMain&&"x"!==e||(this.clickingMain=!1,this.$emit("closeMsgModal"))}},computed:{formattedDate(){return r()(this.date).calendar()}}},d=(a(218),a(2)),u=Object(d.a)(l,t,[],!1,null,"14c67fae",null);u.options.__file="src/components/MessagesPageComponents/MsgPopup.vue";s.default=u.exports},198:function(e,s,a){var t=a(219);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,a(7).default)("6d3d8a24",t,!1,{})},218:function(e,s,a){"use strict";var t=a(198);a.n(t).a},219:function(e,s,a){var t=a(5),o=a(220);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},n=(t(o,i),o.locals?o.locals:{});e.exports=n},220:function(e,s,a){(s=a(6)(!1)).push([e.i,".msgpopup[data-v-14c67fae]{position:fixed;z-index:2;left:0;top:0;width:100%;height:100vh;overflow:auto;background-color:#000;background-color:rgba(0,0,0,0.7);text-align:left;color:var(--aquifer-text-dark-2)}.msgpopup-content[data-v-14c67fae]{background-color:var(--aquifer-medium-4);margin:12% auto;height:40%;padding:20px;border:var(--aquifer-light-1) 5px solid;border-radius:10px;width:80%}.close[data-v-14c67fae]{color:var(--aquifer-text-dark-2);float:right;font-size:28px;font-weight:bold}.close[data-v-14c67fae]:hover,.close[data-v-14c67fae]:focus{color:black;text-decoration:none;cursor:pointer}.message-username[data-v-14c67fae]{color:darkred;font-size:20px}.message-date[data-v-14c67fae]{font-size:10px;color:var(--aquifer-text-dark-2)}.message-content[data-v-14c67fae]{color:azure}.msgpopup-action[data-v-14c67fae]:hover{background-color:var(--aquifer-light-3);margin:-10px;padding:10px}\n",""]),e.exports=s}}]);