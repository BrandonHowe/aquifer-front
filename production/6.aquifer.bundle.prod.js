(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{273:function(e,n,t){"use strict";t.r(n);t(47),t(32),t(48);var a=t(7),s=(t(22),t(3)),o=t(5),i=t.n(o),r=t(0),c=t.n(r),u={name:"MsgPopup",props:{user:Object,date:Number,message:String,msgId:Number},data:function(){return{clickingMain:!1,modifiable:!1}},mounted:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.checkModifiable();case 2:e.modifiable=n.sent;case 3:case"end":return n.stop()}}),n)})))()},methods:{checkPower:function(e,n){return new Promise((function(t){i()({method:"get",uri:s.a.serverUrl+"/userInfo/power/"+e+"/"+n,useXDR:!0,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},(function(e,n,a){if(e)throw e;200!==n.statusCode&&console.log(n.statusCode),t(a)}))}))},checkModifiable:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var t,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=localStorage.getItem("username"),a=Number(localStorage.getItem("usernum")),e.user.username!==t||e.user.usernum!==a){n.next=6;break}return n.abrupt("return",!0);case 6:return n.next=8,e.checkPower(t,a);case 8:return s=n.sent,n.abrupt("return","admin"===s);case 10:case"end":return n.stop()}}),n)})))()},editMessage:function(){this.$emit("editMessage",this.msgId),this.$emit("closeMsgModal"),this.clickingMain=!1},deleteMessage:function(){this.$emit("deleteMessage",this.msgId),this.$emit("closeMsgModal"),this.clickingMain=!1},closeModal:function(e){!1!==this.clickingMain&&"x"!==e||(this.clickingMain=!1,this.$emit("closeMsgModal"))}},computed:{formattedDate:function(){return c()(this.date).calendar()}}},l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"msgpopup",attrs:{id:"msgpopup"},on:{click:function(n){return e.closeModal("reg")}}},[t("div",{staticClass:"msgpopup-content",on:{click:function(n){e.clickingMain=!0}}},[t("span",{staticClass:"close",on:{click:function(n){return e.closeModal("x")}}},[e._v("Ã—")]),e._v(" "),t("div",{staticClass:"msgpopup-header"},[t("p",[t("span",{staticClass:"message-username"},[e._v(e._s(e.user.username)+"#"+e._s(e.user.usernum))]),e._v(" "),t("span",{staticClass:"message-date"},[e._v(e._s(e.formattedDate))])]),e._v(" "),t("p",{staticClass:"message-content"},[e._v(e._s(e.message))]),e._v(" "),t("p",[e._v("Message ID: "+e._s(e.msgId))])]),e._v(" "),t("div",{staticClass:"msgpopup-actions"},[e.modifiable?t("p",{staticClass:"msgpopup-action",on:{click:e.editMessage}},[e._v("Edit message "),t("i",{staticClass:"cil-energy"})]):e._e(),e._v(" "),e.modifiable?t("p",{staticClass:"msgpopup-action",on:{click:e.deleteMessage}},[e._v("Delete message "),t("i",{staticClass:"cil-energy"})]):e._e()])])])};l._withStripped=!0;var d=t(1);var p=function(e){t(290)},f=Object(d.a)(u,l,[],!1,p,"data-v-0f8af214",null);f.options.__file="src\\components\\MessagesPageComponents\\MsgPopup.vue";n.default=f.exports},290:function(e,n,t){var a=t(291);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(9).default)("7b100bdf",a,!1,{})},291:function(e,n,t){(n=t(8)(!1)).push([e.i,"\n.msgpopup[data-v-0f8af214] {\n    /* display: none; */\n    /* Hidden by default */\n    position: fixed;\n    /* Stay in place */\n    z-index: 2;\n    /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%;\n    /* Full width */\n    height: 100vh;\n    /* Full height */\n    overflow: auto;\n    /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0);\n    /* Fallback color */\n    background-color: rgba(0, 0, 0, 0.7);\n    text-align: left;\n    color: var(--aquifer-text-dark-2);\n    /* Black w/ opacity */\n}\n.msgpopup-content[data-v-0f8af214] {\n    background-color: var(--aquifer-medium-4);\n    margin: 12% auto;\n    /* 15% from the top and centered */\n    height: 40%;\n    padding: 20px;\n    border: var(--aquifer-light-1) 5px solid;\n    border-radius: 10px;\n    width: 80%;\n    /* Could be more or less, depending on screen size */\n}\n.close[data-v-0f8af214] {\n    color: var(--aquifer-text-dark-2);\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n}\n.close[data-v-0f8af214]:hover,\n.close[data-v-0f8af214]:focus {\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n}\n.message-username[data-v-0f8af214] {\n    color: darkred;\n    font-size: 20px;\n}\n.message-date[data-v-0f8af214] {\n    font-size: 10px;\n    color: var(--aquifer-text-dark-2);\n}\n.message-content[data-v-0f8af214] {\n    color: azure;\n}\n.msgpopup-action[data-v-0f8af214]:hover {\n    background-color: var(--aquifer-light-3);\n    margin: -10px;\n    padding: 10px;\n}\n",""]),e.exports=n}}]);